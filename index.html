<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="canonical" href="http://twilio.com"/>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <title>twilio-node</title>
    <style>
        body {
            font-size: 14px;
            line-height: 22px;
            background: #f4f4f4;
            color: #000;
            font-family: Helvetica Neue, Helvetica, Arial;
        }

        .interface {
            font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, sans-serif !important;
        }

        div#sidebar {
            background: #fff;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 200px;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            padding: 15px 0 30px 30px;
            border-right: 1px solid #bbb;
            box-shadow: 0 0 20px #ccc;
            -webkit-box-shadow: 0 0 20px #ccc;
            -moz-box-shadow: 0 0 20px #ccc;
        }

        a.toc_title, a.toc_title:visited {
            display: block;
            color: black;
            font-weight: bold;
            margin-top: 15px;
        }

        a.toc_title:hover {
            text-decoration: underline;
        }

        #sidebar .version {
            font-size: 10px;
            font-weight: normal;
        }

        ul.toc_section {
            font-size: 11px;
            line-height: 14px;
            margin: 5px 0 0 0;
            padding-left: 0px;
            list-style-type: none;
            font-family: Lucida Grande;
        }

        .toc_section li {
            cursor: pointer;
            margin: 0 0 3px 0;
        }

        .toc_section li a {
            text-decoration: none;
            color: black;
        }

        .toc_section li a:hover {
            text-decoration: underline;
        }

        div.container {
            width: 550px;
            margin: 40px 0 50px 260px;
        }

        div.warning {
            margin-top: 15px;
            font: bold 11px Arial;
            color: #770000;
        }

        p {
            margin: 20px 0;
            width: 550px;
        }

        a, a:visited {
            color: #444;
        }

        a:active, a:hover {
            color: #000;
        }

        h1, h2, h3, h4, h5, h6 {
            padding-top: 20px;
        }

        h2 {
            font-size: 20px;
        }

        b.header {
            font-size: 16px;
            line-height: 30px;
        }

        span.alias {
            font-size: 14px;
            font-style: italic;
            margin-left: 20px;
        }

        table, tr, td {
            margin: 0;
            padding: 0;
        }

        td {
            padding: 2px 12px 2px 0;
        }

        table .rule {
            height: 1px;
            background: #ccc;
            margin: 5px 0;
        }

        ul {
            list-style-type: circle;
            padding: 0 0 0 20px;
        }

        li {
            width: 500px;
            margin-bottom: 10px;
        }

        code, pre, tt {
            font-family: Monaco, Consolas, "Lucida Console", monospace;
            font-size: 12px;
            line-height: 18px;
            font-style: normal;
        }

        tt {
            padding: 0px 3px;
            background: #fff;
            border: 1px solid #ddd;
            zoom: 1;
        }

        code {
            margin-left: 20px;
        }

        pre {
            font-size: 12px;
            padding: 2px 0 2px 15px;
            border-left: 5px solid #bbb;
            margin: 0px 0 30px;
        }

        @media only screen and (-webkit-min-device-pixel-ratio: 1.5) and (max-width: 640px), only screen and (-o-min-device-pixel-ratio: 3/2) and (max-width: 640px), only screen and (min-device-pixel-ratio: 1.5) and (max-width: 640px) {
            img {
                max-width: 100%;
            }

            div#sidebar {
                -webkit-overflow-scrolling: initial;
                position: relative;
                width: 90%;
                height: 120px;
                left: 0;
                top: -7px;
                padding: 10px 0 10px 30px;
                border: 0;
            }

            img#logo {
                width: auto;
                height: auto;
            }

            div.container {
                margin: 0;
                width: 100%;
            }

            p, div.container ul {
                max-width: 98%;
                overflow-x: scroll;
            }

            pre {
                overflow: scroll;
            }
        }
    </style>
</head>
<body>

<div id="sidebar" class="interface">

    <span class="toc_title">
        twilio-node <span class="version">(0.6.0)</span>
    </span>

    <a class="toc_title" href="#">
        Introduction
    </a>
    <ul class="toc_section">
        <li>- <a href="#installation">Installation</a></li>
        <li>- <a href="#quickstart">Quick Start</a></li>
        <li>- <a href="#moreexamples">More Examples</a></li>
    </ul>

    <a class="toc_title" href="#restapi">
        RestClient
    </a>
    <ul class="toc_section">
        <li>- <a href="#structure">How This API is Structured</a></li>
        <li>- <a href="#constructor">RestClient Constructor</a></li>
        <li>- <a href="#request">request</a></li>
    </ul>

    <a class="toc_title" href="#restResources">
        Resource Listing
    </a>
    <ul class="toc_section">
        <li>- <a href="#resourceRequests">Request Argument Format</a></li>
        <li>- <a href="#accounts">accounts</a></li>
        <li>- <a href="#availablePhoneNumbers">availablePhoneNumbers</a></li>
        <li>- <a href="#outgoingCallerIds">outgoingCallerIds</a></li>
        <li>- <a href="#incomingPhoneNumbers">incomingPhoneNumbers</a></li>
        <li>- <a href="#smsMessages">sms.messages</a></li>
        <li>- <a href="#shortCodes">sms.shortCodes</a></li>
        <li>- <a href="#applications">applications</a></li>
        <li>- <a href="#connectApps">connectApps</a></li>
        <li>- <a href="#authorizedConnectApps">authorizedConnectApps</a></li>
        <li>- <a href="#calls">calls</a></li>
        <li>- <a href="#conferences">conferences</a></li>
        <li>- <a href="#queues">queues</a></li>
        <li>- <a href="#recordings">recordings</a></li>
        <li>- <a href="#transcriptions">transcriptions</a></li>
        <li>- <a href="#notifications">notifications</a></li>
        <li>- <a href="#usageRecords">usage.records</a></li>
        <li>- <a href="#usageTriggers">usage.triggers</a></li>
    </ul>

    <a class="toc_title" href="#twimlResponse">
        TwimlResponse
    </a>
    <ul class="toc_section">
        <li>- <a href="#twimlResponse">Constructor</a></li>
        <li>- <a href="#twimlBasic">TwiML Basics</a></li>
        <li>- <a href="#twimlChained">Chaining Syntax</a></li>
        <li>- <a href="#twimlNesting">Nesting Syntax</a></li>
    </ul>

    <a class="toc_title" href="#links">
        Links
    </a>

    <a class="toc_title" href="#changelog">
        Change Log
    </a>

</div>

<div class="container">

    <p id="introduction">
        <img id="logo" src="twilio.png" alt="Twilio: Cloud Communications"/>
    </p>

    <p>
        The Twilio platform makes adding voice, SMS, and VoIP capabilities to
        your applications ridiculously simple. This helper library for node
        aims to make it even easier. This documentation page code and format is
        adapted from the awesome/utilitary format used to document the popular
        <a href="http://backbonejs.org">Backbone</a> and
        <a href="http://underscorejs.org/">Underscore</a> JavaScript frameworks,
        created by <a href="https://twitter.com/jashkenas">Jeremy Ashkenas</a>
        and other open source contributors.
    </p>

    <p>
        The twilio-node project is
        <a href="http://github.com/kwhinnery/twilio-node/">hosted on GitHub</a>.
        You can report bugs and discuss features on the
        <a href="http://github.com/kwhinnery/twilio-node/issues">issues page</a>,
        on Freenode in the <tt>#twilio</tt> channel,
        or send tweets to <a href="http://twitter.com/kevinwhinnery">@kevinwhinnery</a>.
    </p>

    <h2 id="installation">Installation</h2>

    <p>twilio-node is available as an npm package. Install the latest version with:</p>
<pre>
npm install twilio
</pre>

    <h2 id="quickstart">Quick Start</h2>
    <p>
        To begin using Twilio to make voice calls, send SMS, and create VoIP clients, you first
        need to <a href="https://www.twilio.com/try-twilio">sign up for an account</a>.  After
        signing up, you will be able to access an account SID and auth token which will be used
        to authenticate requests to the Twilio back end.  This information can be found on
        <a href="https://www.twilio.com/user/account">your dashboard</a>:
    </p>
    <p>
        <img src="twilio-dashboard.png" alt="dashboard screenshot"/>
    </p>
    <p>
        With these credentials, you can begin to use this node module, as in the following example:
    </p>
<pre>
//require the Twilio module
var twilio = require('twilio');

//Create a REST client to make authenticated requests to Twilio
var client = new twilio.RestClient('ACCOUNT_SID', 'AUTH_TOKEN');

//Send an SMS text message
client.sms({

    to:'+16515556677', // Any number Twilio can deliver to
    from: '+14506667788', // A number you bought from Twilio and can use for outbound communication
    body: 'word to your mother.' // body of the SMS message

}, function(err, responseData, nodeResponse) { //this function is executed when a response is received from Twilio

    if (!err) { // "err" is an error received during the request, if any

        // "responseData" is a JavaScript object containing data received from Twilio.
        // A sample response from sending an SMS message is here (click "JSON" to see how the data appears in JavaScript):
        // http://www.twilio.com/docs/api/rest/sending-sms#example-1

        console.log(responseData.from); // outputs "+14506667788"
        console.log(responseData.body); // outputs "word to your mother."

        // you can also access the raw node.js http.ClientResponse object,
        // which is "nodeResponse", the third argument to this callback:
        // http://nodejs.org/api/http.html#http_http_clientresponse

        console.log(nodeResponse.statusCode); //outputs "200" if the request was successful

    }
});

//Place a phone call, and respond with TwiML instructions from the given URL
client.call({

    to:'+16515556677', // Any number Twilio can call
    from: '+14506667788', // A number you bought from Twilio and can use for outbound communication
    url: 'http://www.example.com/twiml.php' // A URL that produces an XML document (TwiML) which contains instructions for the call

}, function(err, responseData, nodeResponse) {

    //executed when the call has been initiated.

});

</pre>

    <h2 id="moreexamples">More Examples</h2>
    <p>
        More examples can be found in the "spec" directory of
        <a href="http://github.com/kwhinnery/twilio-node">this project on GitHub</a>, as Jasmine unit tests.
    </p>

    <div id="documentation">

        <h2 id="restapi">RestClient</h2>

        <p>
            <tt>RestClient</tt> exposes the REST API of Twilio, but takes care of content negotiation and
            HTTP requests for you. The client object is intended to mirror the API pretty directly, so the existing
            <a href="http://www.twilio.com/docs/api/rest">REST API reference</a> will be a good source of information
            on what each function does. The major resources and available methods for the REST API will be described here,
            along with shorthand where it exists.
        </p>

        <p id="structure">
            <b class="header">How This API is Structured</b><br/>
            The <tt>RestClient</tt> API is intended to be self-documenting, mapping very closely to the actual
            <a href="http://twilio.com/docs/rest">REST API</a>.  Once you have created a client object,
            the object structure looks very much like the Twilio REST URIs, using a chained JavaScript syntax:
        </p>
<pre>
// Create a client:
var client = new twilio.RestClient('ACCOUNT_SID', 'AUTH_TOKEN');

//Get a list of calls made by this account
// GET /2010-04-01/Accounts/ACCOUNT_SID/Calls
client.account.calls.get(function(err, responseData) {
    //work with call list in responseData
});

//Get a list of calls made by this account, from this phone number
// GET /2010-04-01/Accounts/ACCOUNT_SID/Calls?From=+16513334455
client.account.calls.get({
    from:'+16513334455'
}, function(err, responseData) {
    //work with call list in responseData
});

//Get data for a specific call
// GET /2010-04-01/Accounts/ACCOUNT_SID/Calls/abc123...
client.account.calls('abc123...').get(function(err, responseData) {
    //work with responseData
});

//Get data for a specific call, for a specific account
// GET /2010-04-01/Accounts/AC.../Calls/abc123...
client.accounts('AC...').calls('abc123...').get(function(err, responseData) {
    //work with responseData
});

// Create (send) an SMS message
// POST /2010-04-01/Accounts/ACCOUNT_SID/SMS/Messages
// (client.account.sms.messages.create is aliased to the "post" function for this resource)
client.account.sms.messages.post({
    to:'+16515559999',
    from:'+14503334455',
    body:'word to your mother.'
}, function(err, responseData) {
    //work with responseData
});

// Delete a TwiML application
// DELETE /2010-04-01/Accounts/ACCOUNT_SID/Applications/APP...
client.account.applications('APP...').delete(function(err, responseData, nodeResponse) {
    //delete sends back a 204 on complete, with no error
    assert(!err);
    assert(nodeResponse.statusCode === 204);
});

</pre>

        <p id="constructor">
            <b class="header">twilio.RestClient</b><code>twilio.RestClient(accountSid, authToken[, clientOptions])</code>
            <br/>

            Creates a new REST client object, using the given account SID and auth token, as available on your
            <a href="https://www.twilio.com/user/account">Twilio dashboard</a> when
            <a href="https://www.twilio.com/try-twilio">create an account</a> and log in.
            These credentials are used to <a href="http://www.twilio.com/docs/security">authorize</a> your requests
            to the Twilio back end. REST clients can be created for
            <a href="http://www.twilio.com/docs/api/rest/subaccounts">subaccounts</a>,
            but requests will then only be authorized to access resources associated with that subaccount.

            <ul>
                <li><b>accountSid:</b> {string} Twilio account SID</li>
                <li><b>authToken:</b> {string} Twilio auth token</li>
                <li>
                    <b>[optional] clientOptions:</b> {object} an object hash with client config options:
                    <ul>
                        <li><b>apiVersion:</b> The Twilio API version - defaults to <tt>2010-04-01</tt></li>
                        <li><b>host:</b> The Twilio API endpoint to hit - defaults to <tt>api.twilio.com</tt></li>
                    </ul>
                </li>
            </ul>
        </p>
        <p>Example:</p>
<pre>
var twilio = require('twilio');

var client = new twilio.RestClient('AC...', 'xcD1...');
</pre>

        <p id="request">
            <b class="header">request</b><code>client.request(requestOptions[, callback])</code>
            <br/>
            Makes an authenticated HTTP request against the Twilio back end. Typically, an end user
            <b>WILL NOT</b> use this function, but rather one of the resource-specific functions or
            shorthand functions.

            <ul>
                <li>
                    <b>requestOptions:</b> {object} HTTP request arguments,
                    same as <a href="https://github.com/mikeal/request">the request module</a>.
                </li>
                <li>
                    <b>[optional] callback:</b> {function} a callback function which receives the following
                    three arguments, in order, after a request completes:
                    <ul>
                        <li><b>error:</b> An error object, if an error is received</li>
                        <li><b>responseData:</b>A JavaScript object, <tt>JSON.parse</tt>'d response from the Twilio HTTP response</li>
                        <li>
                            <b>nodeClientResponse:</b>A node <tt>http.ClientResponse</tt> object
                            (<a href="http://nodejs.org/api/http.html#http_http_clientresponse">reference</a>)
                        </li>
                    </ul>
                </li>
            </ul>
        </p>
        <p>Example:</p>
<pre>
var twilio = require('twilio');
var client = new twilio.RestClient('ACCOUNT_SID', 'AUTH_TOKEN');

client.request({
    url:'/Accounts',
    method:'GET'
}, function (error, responseData, nodeClientResponse) {
    //work with response data
});
</pre>

        <h2 id="restResources">Resource Listing</h2>

        <p>
            The following is a listing of REST resources surfaced in the RestClient.  Supported list and
            instance functions are shown here, which should map 1:1 to the supported HTTP methods in the
            Twilio REST API (plus "create" and "update" aliases as relevant).
        </p>

        <p id="resourceRequests">
            <b class="header">Resource Request Argument Format</b><br/>
            All requests on Twilio REST resources follow the same format.  The first argument to a <tt>RestClient</tt>
            resource function is an optional JavaScript object hash of either query parameters for a <tt>GET</tt> or
            <tt>POST/PUT</tt> parameters which will be form-encoded and sent along with the request.  The second
            (or maybe only) argument is a callback which receives the same arguments as the
            callback function in the <a href="#request">direct request API</a>.  An example of the request format is below.
            Typically, Twilio REST APIs use upper-cased parameter names.  When using this client module, you can omit the
            upper-case first character if you wish.
        </p>
        <p>Examples:</p>
<pre>
//A sample request with both POST parameters, and a callback
client.account.sms.messages.create({

    //For an "update", "create", "post", or "put" request these properties are form-encoded and sent to Twilio:
    to:'+16515554466',
    from:'+14503334455',
    body:'word to your mother.'

}, function(err, responseData, nodeResponse) { //this function is executed when a response is received from Twilio

    if (!err) { // "err" is an error received during the request, if any

        // "responseData" is a JavaScript object containing data received from Twilio.
        // A sample response from sending an SMS message is here (click "JSON" to see how the data appears in JavaScript):
        // http://www.twilio.com/docs/api/rest/sending-sms#example-1

        console.log(responseData.from); // outputs "+14506667788"
        console.log(responseData.body); // outputs "word to your mother."

        // you can also access the raw node.js http.ClientResponse object,
        // which is "nodeResponse", the third argument to this callback:
        // http://nodejs.org/api/http.html#http_http_clientresponse

        console.log(nodeResponse.statusCode); //outputs "200" if the request was successful

    }
});

//A sample request with no parameters, just a callback
client.accounts('AC...').calls.get(function (err, responseData) {
    //work with list of all calls for the given account
});

</pre>

        <p id="accounts">
            <b class="header">accounts</b><code>client.accounts([accountSid])</code>
            <span class="alias">Alias: <b>account</b></span>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/account">Account</a> resources via the REST interface.
            <p>
                <b>Instance Functions:</b>
                <ul>
                    <li><tt>client.account('someSid').get</tt></li>
                    <li><tt>client.account('someSid').post</tt></li>
                    <li><tt>client.account('someSid').put</tt></li>
                    <li><tt>client.account('someSid').update</tt> (alias for put)</li>
                </ul>

                <b>List Functions:</b>
                <ul>
                    <li><tt>client.accounts.get</tt></li>
                    <li><tt>client.accounts.post</tt></li>
                    <li><tt>client.accounts.create</tt> (alias for post)</li>
                </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of subaccounts for this master account
client.accounts.get(function(err, data) {
    //work with response data
});

//Create a subaccount
client.account.create({
    friendlyName:'My Awesome Subaccount',
}, function(err, data) {
    //work with response data
});

//Update details for a subaccount with SID 'AC...'
client.accounts('AC...').update({
   friendlyName:'Something New'
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="availablePhoneNumbers">
            <b class="header">availablePhoneNumbers</b><code>client.account.availablePhoneNumbers([IsoCountryCode]).[Local/TollFree]</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/available-phone-numbers">AvailablePhoneNumbers</a>
            resources via the REST interface.  Accessed primarily through Subresources for <tt>local</tt> and
            <tt>tollFree</tt> numbers.
            <p>
                <b>List Functions:</b>
                <ul>
                    <li><tt>client.account.availablePhoneNumbers('US').local.get</tt></li>
                    <li><tt>client.account.availablePhoneNumbers('GB').tollFree.get</tt></li>
                </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of available local numbers for Canada
client.account.availablePhoneNumbers('CA').local.get(function(err, data) {
    //work with response data
});

//Get a list of available toll-free numbers for the United States
client.account.availablePhoneNumbers('US').tollFree.get(function(err, data) {
    //work with response data
});
</pre>

        <p id="outgoingCallerIds">
            <b class="header">outgoingCallerIds</b><code>client.account.outgoingCallerIds([callerIdSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/outgoing-caller-ids">OutgoingCallerIds</a>
            resources via the REST interface.
            <p>
                <b>Instance Functions:</b>
                <ul>
                    <li><tt>client.account.outgoingCallerIds('someSid').get</tt></li>
                    <li><tt>client.account.outgoingCallerIds('someSid').post</tt></li>
                    <li><tt>client.account.outgoingCallerIds('someSid').put</tt></li>
                    <li><tt>client.account.outgoingCallerIds('someSid').delete</tt></li>
                    <li><tt>client.account.outgoingCallerIds('someSid').update</tt> (alias for put)</li>
                </ul>

                <b>List Functions:</b>
                <ul>
                    <li><tt>client.account.outgoingCallerIds.get</tt></li>
                    <li><tt>client.account.outgoingCallerIds.post</tt></li>
                    <li><tt>client.account.outgoingCallerIds.create</tt> (alias for post)</li>
                </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of outgoing caller IDs for the master account
client.account.outgoingCallerIds.get(function(err, data) {
    //work with response data
});

//Update the friendly name for an outgoing caller ID (what is displayed to the callee)
client.account.outgoingCallerIds('callerIdSid').update({
    friendlyName:'Not a telemarketer :D'
}, function(err, data) {
    //work with response data
});
</pre>
        <p id="incomingPhoneNumbers">
            <b class="header">incomingPhoneNumbers</b><code>client.account.incomingPhoneNumbers([incomingNumberSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/incoming-phone-numbers">IncomingPhoneNumbers</a>
            resources via the REST interface.  Includes subresources for local and toll free numbers.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.incomingPhoneNumbers('someSid').get</tt></li>
            <li><tt>client.account.incomingPhoneNumbers('someSid').post</tt></li>
            <li><tt>client.account.incomingPhoneNumbers('someSid').put</tt></li>
            <li><tt>client.account.incomingPhoneNumbers('someSid').delete</tt></li>
            <li><tt>client.account.incomingPhoneNumbers('someSid').update</tt> (alias for put)</li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.incomingPhoneNumbers.get</tt></li>
            <li><tt>client.account.incomingPhoneNumbers.post</tt></li>
            <li><tt>client.account.incomingPhoneNumbers.create</tt> (alias for post)</li>
            <li><tt>client.account.incomingPhoneNumbers.local.get</tt></li>
            <li><tt>client.account.incomingPhoneNumbers.local.post</tt></li>
            <li><tt>client.account.incomingPhoneNumbers.local.create</tt> (alias for local.post)</li>
            <li><tt>client.account.incomingPhoneNumbers.tollFree.get</tt></li>
            <li><tt>client.account.incomingPhoneNumbers.tollFree.post</tt></li>
            <li><tt>client.account.incomingPhoneNumbers.tollFree.create</tt> (alias for tollFree.post)</li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of purchased (incoming) local numbers for an account, containing the digits 867
client.account.incomingPhoneNumbers.local.get({
    phoneNumber:867
}, function(err, data) {
    //work with response data
});

//Purchase a new phone number, which you looked up with the AvailablePhoneNumbers API
client.account.incomingPhoneNumbers.create({
    phoneNumber:'+16512221111'
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="smsMessages">
            <b class="header">sms.messages</b><code>client.account.sms.messages([messageSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/sms">SMS/Messages</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
            <ul>
                <li><tt>client.account.sms.messages('someSid').get</tt></li>
                <li><tt>client.getSms('someSid', callback)</tt> (shorthand to get a specific SMS, and specify a callback)</li>
            </ul>

            <b>List Functions:</b>
            <ul>
                <li><tt>client.account.sms.messages.get</tt></li>
                <li><tt>client.account.sms.messages.post</tt></li>
                <li><tt>client.account.sms.messages.create</tt> (alias for post)</li>
                <li><tt>client.sms</tt> (alias for post)</li>
                <li><tt>client.listSms</tt> (alias for get)</li>
            </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Send (create) an SMS message with the master account, using shorthand
client.sms({
    to:'+16512221111',
    from:'+14502233344',
    body:'word to your mother.'
}, function(err, data) {
    //work with response data
});

//Get a list of SMS messages sent from a given subaccount
client.accounts('someAccountSid').sms.messages.get(function(err, data) {
    //work with response data
});
</pre>

        <p id="shortCodes">
            <b class="header">sms.shortCodes</b><code>client.account.sms.shortCodes([messageSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/short-codes">SMS/ShortCodes</a>
            resources via the REST interface.
            <p>
                <b>Instance Functions:</b>
            <ul>
                <li><tt>client.account.sms.shortCodes('someSid').get</tt></li>
                <li><tt>client.account.sms.shortCodes('someSid').post</tt></li>
                <li><tt>client.account.sms.shortCodes('someSid').update</tt> (alias for post)</li>
            </ul>

            <b>List Functions:</b>
            <ul>
                <li><tt>client.account.sms.shortCodes.get</tt></li>
            </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of SMS short codes used by a given account
client.accounts('someAccountSid').sms.shortCodes.get(function(err, data) {
    //work with response data
});
</pre>

        <p id="applications">
            <b class="header">applications</b><code>client.account.applications([applicationSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/applications">Applications</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
            <ul>
                <li><tt>client.account.applications('someSid').get</tt></li>
                <li><tt>client.account.applications('someSid').post</tt></li>
                <li><tt>client.account.applications('someSid').delete</tt></li>
                <li><tt>client.account.applications('someSid').update</tt> (alias for post)</li>
            </ul>

            <b>List Functions:</b>
            <ul>
                <li><tt>client.account.applications.get</tt></li>
                <li><tt>client.account.applications.post</tt></li>
                <li><tt>client.account.applications.create</tt> (alias for post)</li>
            </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of TwiML applications for the client's default account
client.account.applications.get(function(err, data) {
    //work with response data
});

//Update a TwiML application for the client's default account
client.account.applications('someSid').update({
    friendlyName:'Something new',
    VoiceUrl:'http://example.com/twiml.php'
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="connectApps">
            <b class="header">connectApps</b><code>client.account.connectApps([applicationSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/connect-apps">Connect Apps</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
            <ul>
                <li><tt>client.account.connectApps('someSid').get</tt></li>
                <li><tt>client.account.connectApps('someSid').post</tt></li>
                <li><tt>client.account.connectApps('someSid').update</tt> (alias for post)</li>
            </ul>

            <b>List Functions:</b>
            <ul>
                <li><tt>client.account.connectApps.get</tt></li>
            </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of Twilio Connect applications for the client's default account
client.account.connectApps.get(function(err, data) {
    //work with response data
});

//Update a Connect application for the client's default account
client.account.connectApps('someSid').update({
    friendlyName:'Something new'
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="authorizedConnectApps">
            <b class="header">authorizedConnectApps</b><code>client.account.authorizedConnectApps([applicationSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/authorized-connect-apps">Authorized Connect Apps</a>
            resources via the REST interface.
            <p>
                <b>Instance Functions:</b>
            <ul>
                <li><tt>client.account.authorizedConnectApps('someSid').get</tt></li>
            </ul>

            <b>List Functions:</b>
            <ul>
                <li><tt>client.account.authorizedConnectApps.get</tt></li>
            </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of authorized Twilio Connect applications for the client's default account
client.account.authorizedConnectApps.get(function(err, data) {
    //work with response data
});

//Get data about a specific authorized connect app
client.account.authorizedConnectApps('someSid').get(function(err, data) {
    //work with response data
});
</pre>

        <p id="calls">
            <b class="header">calls</b><code>client.account.calls([callSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/call">Calls</a>
            resources via the REST interface.
            <p>
                <b>Instance Functions:</b>
            <ul>
                <li><tt>client.account.calls('someSid').get</tt></li>
                <li><tt>client.account.calls('someSid').post</tt></li>
                <li><tt>client.account.calls('someSid').update</tt> (alias for post)</li>
                <li><tt>client.account.calls('someSid').recordings.get</tt></li>
                <li><tt>client.account.calls('someSid').notifications.get</tt></li>
                <li><tt>client.getCall('someSid', callback)</tt> (shorthand for get)</li>
            </ul>

            <b>List Functions:</b>
            <ul>
                <li><tt>client.account.calls.get</tt></li>
                <li><tt>client.account.calls.post</tt></li>
                <li><tt>client.account.calls.create</tt> (alias for post)</li>
                <li><tt>client.call</tt> (alias for post)</li>
                <li><tt>client.listCalls</tt> (alias for get)</li>
            </ul>
            </p>
        </p>
        <p>Examples:</p>
<pre>
//Place a call
client.call({
    to:'+16512223344',
    from:'+14503334455',
    url:'http://yourapp.com/twiml.jsp' // you're using JSP, right? :P
}, function(err, data) {
    //work with response data
});

//Get a list of recordings for a specifc call
client.account.calls('someSid').recordings.get(function(err, data) {
    //work with response data
});
</pre>

        <p id="conferences">
            <b class="header">conferences</b><code>client.account.conferences([conferenceSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/conference">Conference</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.conferences('someSid').get</tt></li>
            <li><tt>client.account.conferences('someSid').participants.get</tt></li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.conferences.get</tt></li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of in-progress conferences for the master account
client.account.conferences.get({
    status:'in-progress'
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="queues">
            <b class="header">queues</b><code>client.account.queues([queueSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/queues">Queues</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.queues('someSid').get</tt></li>
            <li><tt>client.account.queues('someSid').post</tt></li>
            <li><tt>client.account.queues('someSid').delete</tt></li>
            <li><tt>client.account.queues('someSid').update</tt> (alias for post)</li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.queues.get</tt></li>
            <li><tt>client.account.queues.post</tt></li>
            <li><tt>client.account.queues.create</tt> (alias for post)</li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of queues for the master account
client.account.queues.get(function(err, data) {
    //work with response data
});

//Create a call queue
client.account.queues.create({
    friendlyName:'Barbie Queue',
    maxSize:456
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="recordings">
            <b class="header">recordings</b><code>client.account.recordings([recordingSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/recording">Recordings</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.recordings('someSid').get</tt></li>
            <li><tt>client.account.recordings('someSid').delete</tt></li>
            <li><tt>client.account.recordings('someSid').transcriptions.get</tt></li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.recordings.get</tt></li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of recordings for the master account, for dates after September 11, 2010
client.account.recordings.get({
    'dateCreated>':'2010-09-11'
}, function(err, data) {
    //work with response data
});
</pre>

        <p id="transcriptions">
            <b class="header">transcriptions</b><code>client.account.transcriptions([transcriptionSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/transcription">Transcriptions</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.transcriptions('someSid').get</tt></li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.transcriptions.get</tt></li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of transcriptions, with paging info, sorted by date updated
client.account.transcriptions.get(function(err, data) {
    //work with response data
    if (!err) {
        for (var i = 0, l = data.transcriptions.length; i < l; i++) {
            console.log(data.transcriptions[i].transcription_text);
        }
    }
});
</pre>

        <p id="notifications">
            <b class="header">notifications</b><code>client.account.notifications([notificationSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/notification">Notification</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.notifications('someSid').get</tt></li>
            <li><tt>client.account.notifications('someSid').delete</tt></li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.notifications.get</tt></li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of notifications at the ERROR level, useful for debugging Twilio requests
client.account.notifications.get({
    log:0
}, function(err, data) {
    //work with response data
    if (!err) {
        for (var i = 0, l = data.notifications.length; i < l; i++) {
            console.log(data.notifications[i].message_text);
        }
    }
});
</pre>

        <p id="usageRecords">
            <b class="header">usage.records</b><code>client.account.usage.records([recordSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/usage-records">Usage Records</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.usage.records('someSid').get</tt></li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.usage.records.get</tt></li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of usage records for all SMS messages for the default account
client.account.usage.records.get({
    category:'sms'
}, function(err, data) {
    //work with response data
    if (!err) {
        for (var i = 0, l = data.usage_records.length; i < l; i++) {
            console.log(data.usage_records[i].count);
        }
    }
});
</pre>

        <p id="usageTriggers">
            <b class="header">usage.triggers</b><code>client.account.usage.triggers([triggerSid])</code>
            <br/>

            Accesses <a href="http://www.twilio.com/docs/api/rest/usage-triggers">Usage Triggers</a>
            resources via the REST interface.
        <p>
            <b>Instance Functions:</b>
        <ul>
            <li><tt>client.account.usage.triggers('someSid').get</tt></li>
            <li><tt>client.account.usage.triggers('someSid').post</tt></li>
            <li><tt>client.account.usage.triggers('someSid').delete</tt></li>
            <li><tt>client.account.usage.triggers('someSid').update</tt> (alias for post)</li>
        </ul>

        <b>List Functions:</b>
        <ul>
            <li><tt>client.account.usage.triggers.get</tt></li>
            <li><tt>client.account.usage.triggers.post</tt></li>
            <li><tt>client.account.usage.triggers.create</tt> (alias for post)</li>
        </ul>
        </p>
        </p>
        <p>Examples:</p>
<pre>
//Get a list of usage triggers recurring daily
client.account.usage.triggers.get({
    recurring:'daily'
}, function(err, data) {
    //work with response data
    if (!err) {
        for (var i = 0, l = data.usage_triggers.length; i < l; i++) {
            console.log(data.usage_triggers[i].friendly_name);
        }
    }
});

//Create a new one-time usage trigger for SMS messages over 1,000
client.account.usage.triggers.create({
    usageCategory:'sms',
    triggerValue:1000,
    callbackUrl:'http://example.com/tellMeWhenIHitOneThousand'
}, function(err, data) {
    assert(!err);
    console.log(data.sid);
});
</pre>

        <h2 id="twimlResponse">TwimlResponse</h2>

        <p>
            When your Twilio application needs to respond to an incoming SMS message or
            voice call input, the developer gives Twilio instructions on what to do using a
            special XML instruction set called "TwiML".  The <tt>TwimlResponse</tt> object
            makes creating a proper TwiML XML string very easy.  The resulting TwiML string
            can be rendered to the end user using the node.js HTTP server APIs directly, or
            using a higher level web framework like <a href="http://expressjs.com">express</a>.
        </p>

        <p >
            <b class="header">Constructor</b><code>new twilio.TwimlResponse()</code>
            <br/>

            Create a <a href="http://www.twilio.com/docs/api/twiml">TwiML</a>
            response, which can later be serialized to XML.
        <p>
        <p>Example:</p>
<pre>
var twilio = require('twilio');
var resp = new twilio.TwimlResponse();
</pre>

        <p id="twimlBasic">
            <b class="header">TwiML Basics</b>
            <br/>
            
            The <tt>TwimlResponse</tt> object provides JavaScript functions to construct the
            <a href="http://www.twilio.com/docs/api/twiml">TwiML verbs</a> that are appropriate
            for the given parent node.  Each JavaScript function takes the following arguments, in any order:
            <ul>
                <li>an <tt>Object</tt> hash containing the attributes for the verb, if any</li>
                <li>a <tt>String</tt> containing the content of the XML node (as in a <tt>&lt;Say&gt;</tt> verb)</li>
                <li>if a string is not specified, a <tt>Function</tt> which will build child nodes of this node</li>
            </ul>
        </p>
<pre>
var twilio = require('twilio');
var resp = new twilio.TwimlResponse();

resp.say('Welcome to Twilio!');
resp.say('Please let us know if we can help during your development.', {
    voice:'woman',
    language:'en-gb'
});

console.log(resp.toString());
/**
Outputs the following:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Welcome to Twilio!&lt;/Say&gt;
    &lt;Say voice="woman" language="en-gb"&gt;Please let us know if we can help during your development.&lt;/Say&gt;
&lt;/Response&gt;
*/
</pre>

        <p>
            Rendering the actual XML document is done with the <tt>toString</tt> function.  The following node
            program would render a TwiML document when a request was received to the HTTP server running on port
            1337:
        </p>

<pre>
var http = require('http'),
    twilio = require('twilio');

http.createServer(function (req, res) {
    //Create TwiML response
    var twiml = new twilio.TwimlResponse();
    twiml.say('Hello World!');

    res.writeHead(200, {'Content-Type': 'text/xml'});
    res.end(twiml.toString());

}).listen(1337, '127.0.0.1');

console.log('TwiML servin\' server running at http://127.0.0.1:1337/');
</pre>

        <p id="twimlChained">
            <b class="header">Chaining Syntax</b>
            <br/>
            You can add multiple nodes to a TwiML document in a single statement by chaining function calls:
        </p>

<pre>
var twilio = require('twilio');
var resp = new twilio.TwimlResponse();

resp.say('Welcome to Twilio!')
    .pause({ length:3 })
    .say('Please let us know if we can help during your development.', {
        voice:'woman',
        language:'en-gb'
    })
    .play('http://www.example.com/some_sound.mp3');

console.log(resp.toString());
/**
Outputs the following:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Welcome to Twilio!&lt;/Say&gt;
    &lt;Pause length="3"&gt;&lt;/Pause&gt;
    &lt;Say voice="woman" language="en-gb"&gt;Please let us know if we can help during your development.&lt;/Say&gt;
    &lt;Play&gt;http://www.example.com/some_sound.mp3&lt;/Play&gt;
&lt;/Response&gt;
*/
</pre>

        <p id="twimlNesting">
            <b class="header">Nesting TwiML Nodes</b>
            <br/>
            Some TwiML verbs have other nouns or verbs nested within them.  You can create these nested structures
            by passing a function to a parent node, which will be executed in the context of the parent node.
            Within this callback function, <tt>this</tt> will refer to the parent node, which will have JavaScript
            functions that map to the allowed syntax for child nodes of the parent:
        </p>

<pre>
var twilio = require('twilio');
var resp = new twilio.TwimlResponse();

resp.say('Welcome to Acme Customer Service!')
    .gather({
        action:'http://www.example.com/callFinished.php',
        finishOnKey:'*'
    }, function() {
        this.say('Press 1 for customer service')
            .say('Press 2 for British customer service', { language:'en-gb' });
    });

console.log(resp.toString());
/**
Outputs the following:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Welcome to Acme Customer Service!&lt;/Say&gt;
    &lt;Gather action="http://www.example.com/callFinished.php" finishOnKey="*"&gt;
        &lt;Say&gt;Press 1 for customer service.&lt;/Say&gt;
        &lt;Say language="en-gb"&gt;Press 2 for British customer service.&lt;/Say&gt;
    &lt;/Gather&gt;
&lt;/Response&gt;
*/
</pre>

        <p>
            Alternately, the first argument to the child node building function is also a reference to the parent
            node, so the following code is equivalent:
        </p>

<pre>
var twilio = require('twilio');
var resp = new twilio.TwimlResponse();

resp.say('Welcome to Acme Customer Service!')
    .gather({
        action:'http://www.example.com/callFinished.php',
        finishOnKey:'*'
    }, function(node) { //note the use of the "node" variable in the anonymous function

        //Now you can use this reference as well, if using "this" wrankles you
        node.say('Press 1 for customer service')
            .say('Press 2 for British customer service', { language:'en-gb' });

    });

console.log(resp.toString());
/**
Outputs the following:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Response&gt;
    &lt;Say&gt;Welcome to Acme Customer Service!&lt;/Say&gt;
    &lt;Gather action="http://www.example.com/callFinished.php" finishOnKey="*"&gt;
        &lt;Say&gt;Press 1 for customer service.&lt;/Say&gt;
        &lt;Say language="en-gb"&gt;Press 2 for British customer service.&lt;/Say&gt;
    &lt;/Gather&gt;
&lt;/Response&gt;
*/
</pre>

        <h2 id="links">Links &amp; Additional Resources</h2>
        <p>
            Usage of the Twilio platform requires a valid account SID and auth token.  You can sign up
            and receive those credentials <a href="https://www.twilio.com/try-twilio">here</a>.
        </p>

        <p>
            The official Twilio docs <a href="http://twilio.com/docs">are located here</a>.
        </p>

        <p>
            Helper libraries are available for a variety of environments and programming langauges -
            check out Twilio's <a href="http://github.com/twilio">GitHub repository here</a>.
        </p>

        <h2 id="changelog">Change Log</h2>

        <p>
            <b class="header">0.6.0</b> &mdash;
            <small><i>Dec. 20, 2012</i></small> &mdash; <br/>
        <ul>
            <li>
                Minor updates to the RestClient to remove dependency on pkginfo
            </li>
        </ul>
        </p>

        <p>
            <b class="header">0.5.0</b> &mdash;
            <small><i>Dec. 19, 2012</i></small> &mdash; <br/>
            <ul>
                <li>
                    Initial refactor release, exposes basic REST client API.
                </li>
            </ul>
        </p>

    </div>

</div>

</body>
</html>
